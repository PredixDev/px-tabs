sudo: required
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- npm install web-component-tester
- npm install bower
- export PATH=$PWD/node_modules/.bin:$PATH
- bower install
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
after_success:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$DEPLOYSECRET"
  -in deploy.enc -out deploy_key -d; fi
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- "./ghp.sh"
env:
  global:
  - secure: ErUe6xazO0EkOKfXY1ix8tKkj4cfnCkxxXjpdoTyT4VBjod6iWKzpaQvOQdNhdf0oUewl84Q5kUR0KORHh6yZEKkVhXLOqKouKe3Pu1dKZOZ5dBt5GsBVN+OZKTx/iT43+CasSufI/XLSkjxcCydbLXunt4vRejc0uLVw/xknU9lgrNjSx+uFm+2GUYYsWQOHboJSEi17hR0TMaufnBJwIrBeNwJzgpE/pr+37F8TXnZ/MZ55h/GjuE2xKIiYld1/zUfJnY9azW/qXbHKXme74rjoQkRxnXuQFxC1DBCkIy3i/eGRDPzua5RDvw0wDjPcMrjkB3oU1OpBvJOMRV+4Q/AlyEF6MTpPorOlQoAZg1TplX0K3Xc4TmG+Fznpo02huXD0qyO5dJ7zudc5xCyYLA6aHwEERfRws6BXzz9UMOvzQc+Wb+YGC9LSgoi3uAUgxp+W1Jrmvpd7/bSBilLWhB3j6J9CVGW3DNtcn23Yhx4b2Cbu6oPmCAY8lVT80M0DabTFw6yIl0VjOF5YRuVUxKYBNpnW34JTSHOiDkk3eIO6LDTn5tHxz/4+urODK5HlDqNhscGrcBhzZMYquExkF+0FunEM+rZnRUaU+5/ONjXUnoKzGHjWGjyX9iy0ZeKCkOAzGx7IdD4vyi5ZOsiuVBB7Kwnf/tDpA9sRdznAVI=
  - secure: mGL7S7z0XLk2K+Id/jNnjo4FpGFXTYW8DboPIng72ytTM8BjRFX8DYvtTL/9D6tUk7TKB+6eKA2UomgP3ULzKIxNmLywe8+4neb+R6m9HXfkS70u3GJTA7WmMfrzcVxg+QUBZuDeMsTR92P7frSSQDNcer/2BwwGVg1YrFc5UUq6Y2b78Sb576j7nQ3HNRN5oi507vaowjejitNOuAoBl1lKm+tfZMgCslyXuX9d4d2ZZh8Rp2ueggohqfB7A+zn/mmMhgBrFVsTs4wcrv8HhfQYaYOry3k4vaX98wKGeT0Di7QASX/Zu3FiFvdZN0ptJjHoQPUBbthsmQUyVvOwQyztC92m2V5fND6s48YT60mntBL8w7kwpy+oZ3Sop8NJDTHclgYmUnGelq5ys6noP+nCyEj8a0uuAzG4Tbr5g61rCkAobmmd3GpZIFcVoOUQgLI8u2aVPM+7QT+pNQkkE3y8zfwCEcln2nMKNqpgvvTARH0fs16aOSIqCtNxeX0RjDSMIwlfSuLP7vKdVockPvR2yl/mHOdOLZTQe0TL73u6DHy2uP/dPCphraLyCc55rJNCS/mrtAOK6BUqQK/ejAfjkOAE0v/T+F2l16DYKSQXEMlPz7M+AwWYTFTHd9irHgSCXX6XYhNRToHvamvYSymx38tYXjhFC6UfdIh/1qg=
