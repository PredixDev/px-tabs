<!doctype html>
<html>
  <head>
      <meta charset="utf-8">
      <script src="../../webcomponentsjs/webcomponents.min.js"></script>
      <script src="../../web-component-tester/browser.js"></script>

      <!-- Step 1: import the element to test -->
      <link rel="import" href="../demo-custom-tabs.html">
  </head>
  <body>

    <!-- You use the document as a place to set up your fixtures. -->
    <demo-custom-tabs id="fixture-basic"></demo-custom-tabs>
    <script>
      suite('<px-tabs>', function() {
        test('Basic px-tabs Tests', function() {
          var customTabs = Polymer.dom(document).querySelector('#fixture-basic');
          assert(customTabs != null);
        });

        test('Test change tab event fires', function(done) {
          var customTabs = Polymer.dom(document).querySelector('#fixture-basic'),
              tabs = Polymer.dom(customTabs.root).querySelectorAll('px-tab');

          document.addEventListener('px-tab-changed', function(evt){
            assert.equal(evt.detail.tabID, 'tab2');
            done();
          });
          tabs[1].click();
        });
      });
    </script>
</body>
</html>
